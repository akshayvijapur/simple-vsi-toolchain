{
    "$schema":"http://json-schema.org/draft-04/schema#",
    "messages":{
       "$i18n":"locales.yml"
    },
    "title":{
       "$ref":"#/messages/deploy.title"
    },
    "description":{
       "$ref":"#/messages/deploy.description"
    },
    "longDescription":{
       "$ref":"#/messages/deploy.longDescription"
    },
    "type":"object",
    "properties":{
       "api-key":{
          "description":{
             "$ref":"#/messages/deploy.apikeyDescription"
          },
          "type":"string",
          "pattern":"\\S",
          "validator":{
             "v-type":"api-key"
          }
       },
       "vpcRegion":{
          "description":{
             "$ref":"#/messages/deploy.vpcRegionLabel"
          },
          "type":"string",
          "validator":{
             "v-type":"vsi-region",
             "params":[
                "api-key"
             ]
          }
       },
       "type":{
          "description":{
             "$ref":"#/messages/deploy.vsiAuthType"
          },
          "title":{
             "$ref":"#/messages/deploy.authType"
          },
          "type":"string",
          "enum":[
             "credentials",
             "ssh_private_key"
          ]
       },
       "host-user-name":{
          "description":{
             "$ref":"#/messages/deploy.vsiUserName"
          },
          "title":{
             "$ref":"#/messages/deploy.userName"
          },
          "type":"string"
       },
       "host-ssh-keys":{
          "description":{
             "$ref":"#/messages/deploy.vsiSshKey"
          },
          "title":{
             "$ref":"#/messages/deploy.hostSshKeys"
          },
          "type":"password"
       },
       "host-user-password":{
          "description":{
             "$ref":"#/messages/deploy.vsiUserPassword"
          },
          "title":"Password",
          "type":"password"
       },
       "app-name":{
          "description":{
             "$ref":"#/messages/deploy.appDescription"
          },
          "type":"string",
          "pattern":"\\S"
       },
       "virtual-server-instance":{
          "description":{
             "$ref":"#/messages/deploy.bastionLabel"
          },
          "validator":{
             "v-type":"vsi-instances",
             "params":[
                "vpcRegion"
             ]
          },
          "type":"string",
          "pattern":"\\S"
       }
    },
    "required":[
       "app-name",
       "api-key",
       "vpcRegion",
       "virtual-server-instance"
    ],
    "form":[
       {
          "type":"validator",
          "url":"/devops/validator/validator-v1.html"
       },
       {
          "type":"text",
          "readonly":false,
          "title":{
             "$ref":"#/messages/deploy.appName"
          },
          "key":"app-name"
       },
       {
          "type":"text",
          "readonly":false,
          "title":{
             "$ref":"#/messages/deploy.apikey"
          },
          "key":"api-key"
       },
       {
          "type":"table",
          "columnCount":3,
          "widths":[
             "50%",
             "3%",
             "47%"
          ],
          "items":[
             {
                "type":"label",
                "description":{
                    "$ref":"#/messages/deploy.vpcRegionTitle"
                 },
                "title":{
                   "$ref":"#/messages/deploy.vpcRegionTitle"
                },
                "key":"vpcRegion"
             },
             {
                "type":"label",
                "title":""
             },
             {
                "type":"label",
                "description":{
                    "$ref": "#/messages/deploy.bastion"
                 },
                "title":{
                   "$ref": "#/messages/deploy.bastion"
                }
             },
             {
                "type":"select",
                "title":{
                   "$ref":"#/messages/deploy.vpcRegionTitle"
                },
                "placeholder":{
                   "$ref":"#/messages/deploy.regionPlaceHolder"
                },
                "key":"vpcRegion"
             },
             {
                "type":"label",
                "title":""
             },
             {
                "type":"select",
                "title":{
                   "$ref":"#/messages/deploy.bastion"
                },
                "placeholder":{
                   "$ref":"#/messages/deploy.vsiPlaceHolder"
                },
                "key":"virtual-server-instance"
             }
          ]
       },
       {
          "type":"table",
          "columnCount":5,
          "widths":[
             "46%",
             "2%",
             "25%",
             "2%",
             "25%"
          ],
          "items":[
             {
                "type":"label",
                "description":{
                    "$ref":"#/messages/deploy.loadBalancerName"
                 },
                "title":{
                   "$ref":"#/messages/deploy.loadBalancerName"
                }
             },
             {
                "type":"label",
                "title":""
             },
             {
                "type":"label",
                "description":{
                    "$ref":"#/messages/deploy.loadBalancerName"
                 },
                "title":{
                   "$ref":"#/messages/deploy.bluePoolName"
                }
             },
             {
                "type":"label",
                "title":""
             },
             {
                "type":"label",
                "description":{
                    "$ref":"#/messages/deploy.loadBalancerName"
                 },
                "title":{
                   "$ref":"#/messages/deploy.greenPoolName"
                }
             },
             {
                "type":"text",
                "readonly":false,
                "title":{
                   "$ref":"#/messages/deploy.loadBalancerName"
                },
                "key":"load-balancer-name"
             },
             {
                "type":"label",
                "title":""
             },
             {
                "type":"text",
                "readonly":false,
                "title":{
                   "$ref":"#/messages/deploy.bluePoolName"
                },
                "key":"blue-pool-name"
             },
             {
                "type":"label",
                "title":""
             },
             {
                "type":"text",
                "readonly":false,
                "title":{
                   "$ref":"#/messages/deploy.greenPoolName"
                },
                "key":"green-pool-name"
             }
          ]
       },
       {
        "type": "selectfieldset",
        "key": "type",
        "titleMap": {
            "credentials": {
                "$ref": "#/messages/deploy.userCredentials"
            },
            "ssh_private_key": {
                "$ref": "#/messages/deploy.userSSH"
            }
        },
        "items": [
            {
                "type": "section",
                "description": {
                    "$ref": "#/messages/deploy.userCredentialsDescription"
                },
                "items": [
                    "host-user-name",
                    "host-user-password"

                ]
            }, {
                "type": "section",
                "description": {
                    "$ref": "#/messages/deploy.userSSHDescription"
                },
                "items": [
                    "host-user-name",
                    "host-ssh-keys"

                ]
            }
        ]
    }
    ]
 }